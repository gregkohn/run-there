!function(t){function e(o){if(s[o])return s[o].exports;var i=s[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};return e.m=t,e.c=s,e.p="javascripts/",e(0)}([function(t,e,s){t.exports=s(7)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={init:function(){this.variables(),this.workoutsKey="workouts"},variables:function(){this.namespace="rt"},save:function(t,e){localStorage.setItem(this.namespace+"__"+t,JSON.stringify(e))},load:function(t){return JSON.parse(localStorage.getItem(this.namespace+"__"+t))},saveWorkout:function(t){var e=this.loadWorkouts();e.push(t),this.save(this.workoutsKey,e)},saveWorkouts:function(t){this.save(this.workoutsKey,t)},loadWorkouts:function(){var t=this.load(this.workoutsKey);return null==t&&(t=[]),t},delete:function(){}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={init:function(){this.variables()},variables:function(){this.el=document.querySelector(".modal-container"),this.dialog=this.el.querySelector(".modal-dialog"),this.titleDisplay=this.dialog.querySelector(".modal-dialog__title"),this.errorDisplay=this.dialog.querySelector(".modal-dialog__errors"),this.visibleClass="-modal-is-active",this.invalidClass="-is-invalid"},open:function(t,e){document.body.classList.add(this.visibleClass),this.titleDisplay.innerHTML=t,e.style.display="block"},close:function(t){this.removeErrors(),document.body.classList.remove(this.visibleClass),setTimeout(function(){t.style.display="none"},400)},showErrors:function(t){this.el.classList.add(this.invalidClass),this.errorDisplay.innerHTML=t},removeErrors:function(){this.el.classList.remove(this.invalidClass),this.errorDisplay.innerHTML=""}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,s,o){return s&&t(e.prototype,s),o&&t(e,o),e}}(),r=s(2),n=o(r),u=s(1),l=o(u),c=function(){function t(e){i(this,t),this.el=e,this.variables(),this.listen()}return a(t,[{key:"variables",value:function(){this.launchBtn=this.el.querySelector("button"),this.input=n.default.el.querySelector("input"),this.submitBtn=n.default.el.querySelector("button"),this.close=n.default.el.querySelector(".modal-close"),this.modalEl=n.default.el.querySelector(".modal-dialog__form"),this.workoutsChangedEventName="workoutsChanged",this.workoutsChanged=new Event(this.workoutsChangedEventName)}},{key:"listen",value:function(){this.launchBtn.addEventListener("click",this.start.bind(this)),this.submitBtn.addEventListener("click",this.submit.bind(this)),this.close.addEventListener("click",this.end.bind(this)),this.input.addEventListener("focus",this.onFocus.bind(this))}},{key:"start",value:function(){n.default.open("new run",this.modalEl),this.input.focus()}},{key:"end",value:function(){n.default.close(this.modalEl),this.input.value=""}},{key:"submit",value:function(){var t=this.input.value;this.validate(t)&&(l.default.saveWorkout(t),document.dispatchEvent(this.workoutsChanged),this.end())}},{key:"validate",value:function(t){return t=parseFloat(t),!isNaN(t)&&t>0||(n.default.showErrors("Not a valid number"),!1)}},{key:"onFocus",value:function(){n.default.removeErrors()}}]),t}();e.default=c},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=s(2),a=o(i),r=s(1),n=o(r);a.default.init(),n.default.init();for(var u=document.querySelectorAll("[data-module]"),l=0;l<u.length;l++){var c=u[l],d=c.getAttribute("data-module"),h=s(9)("./"+d).default;new h(c)}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,s,o){return s&&t(e.prototype,s),o&&t(e,o),e}}(),r=s(2),n=o(r),u=s(1),l=o(u),c=function(){function t(e){i(this,t),this.el=e,this.variables(),this.listen()}return a(t,[{key:"variables",value:function(){this.launchBtn=this.el.querySelector("button"),this.close=n.default.el.querySelector(".modal-close"),this.modalEl=n.default.el.querySelector(".modal-dialog__all-workouts"),this.workoutsList=this.modalEl.querySelector("ul"),this.workoutsChangedEventName="workoutsChanged",this.workoutsChanged=new Event(this.workoutsChangedEventName)}},{key:"listen",value:function(){this.launchBtn.addEventListener("click",this.start.bind(this)),this.close.addEventListener("click",this.end.bind(this))}},{key:"start",value:function(){n.default.open("all runs",this.modalEl),this.populateWorkouts();var t=n.default.dialog.offsetWidth;console.log(t),n.default.dialog.style.width=t+"px"}},{key:"end",value:function(){n.default.close(this.modalEl),setTimeout(function(){n.default.dialog.style.width="auto"},400)}},{key:"populateWorkouts",value:function(){var t=this,e=l.default.loadWorkouts();this.workoutsList.innerHTML="",e.forEach(function(e,s){var o=document.createElement("li");o.innerHTML='<button data-index="'+s+'"><span><svg viewBox="0 0 1 1"><use xlink:href=\'images/icons-5bcb63bf8b.svg#cross\' /></use></svg></span></button><span class="workout-num">'+e+"</span> miles</li>",t.workoutsList.appendChild(o),o.addEventListener("click",t.editWorkouts.bind(t))})}},{key:"editWorkouts",value:function(t){var e=t.currentTarget,s=parseFloat(e.querySelector("button").getAttribute("data-index")),o=l.default.loadWorkouts();o.splice(s,1),l.default.saveWorkouts(o),this.workoutsList.removeChild(e),document.dispatchEvent(this.workoutsChanged)}}]),t}();e.default=c},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,s,o){return s&&t(e.prototype,s),o&&t(e,o),e}}(),r=s(1),n=o(r),u=s(3),l=(o(u),function(){function t(){i(this,t),this.variables(),this.update(),this.listen()}return a(t,[{key:"variables",value:function(){this.goalRow=document.querySelector(".card-row.-miles"),this.daysRow=document.querySelector(".card-row.-days"),this.paceRow=document.querySelector(".card-row.-pace"),this.otherRow=document.querySelector(".card-row.-other"),this.goalProgressRing=this.goalRow.querySelector(".card-progress__completed svg"),this.goalProgressDisplay=this.goalRow.querySelectorAll(".card__body")[0],this.goalRemainingDisplay=this.goalRow.querySelectorAll(".card__body")[1],this.daysProgressRing=this.daysRow.querySelector(".card-progress__completed svg"),this.daysProgressDisplay=this.daysRow.querySelectorAll(".card__body")[0],this.daysRemainingDisplay=this.daysRow.querySelectorAll(".card__body")[1],this.paceProgressRing=this.paceRow.querySelector(".card-progress__completed svg"),this.actualPaceDisplay=this.paceRow.querySelectorAll(".card__body")[0],this.requiredPaceDisplay=this.paceRow.querySelectorAll(".card__body")[1],this.paceIconDisplay=this.paceRow.querySelector(".card-icon svg use"),this.paceGoodIcon="check",this.paceBadIcon="cross",this.totalWorkoutsDisplay=this.otherRow.querySelector(".card__body"),this.mapStateDisplay=document.querySelector(".map__current-state__name"),this.mapStateIcon=document.querySelector(".map__current-state__icon svg use"),this.mapRoute=document.querySelector(".sprite.-progress-route svg"),this.radialDashArray=314,this.routeDashArray=807,this.routeLength=2474,this.states=[{name:"dc",starts:0},{name:"virginia",starts:8},{name:"tennessee",starts:374},{name:"georgia",starts:586},{name:"alabama",starts:632},{name:"mississippi",starts:857},{name:"louisiana",starts:1079},{name:"texas",starts:1241},{name:"mexico",starts:1743}],this.goalTotal=161,this.startDate="2017-1-10",this.endDate="2017-5-21"}},{key:"listen",value:function(){document.addEventListener("workoutsChanged",this.update.bind(this))}},{key:"update",value:function(){this.updateVariables(),this.calculateProgress(),this.loadProgress()}},{key:"updateVariables",value:function(){this.workouts=n.default.loadWorkouts()}},{key:"calculateProgress",value:function(){this.calculateGoalProgress(),this.calculateDayProgress(),this.calculatePaceProgress(),this.calculateOtherProgress(),this.calculateMapProgress()}},{key:"calculateGoalProgress",value:function(){var t=0;this.workouts.forEach(function(e){t+=parseFloat(e)}),this.goalProgress=Math.round(100*t)/100,this.goalRemaining=Math.round(100*(this.goalTotal-this.goalProgress))/100}},{key:"calculateDayProgress",value:function(){var t=new Date(this.startDate).getTime(),e=new Date(this.endDate).getTime(),s=(new Date).getTime();this.daysTotal=Math.ceil((e-t)/864e5),this.daysRemaining=Math.ceil((e-s)/864e5)-1,this.daysProgress=this.daysTotal-this.daysRemaining}},{key:"calculatePaceProgress",value:function(){this.actualPace=Math.round(this.goalProgress/this.daysProgress*100)/100,this.requiredPace=Math.round(this.goalTotal/this.daysTotal*100)/100;var t=this.actualPace>this.requiredPace;t?this.paceIcon=this.paceGoodIcon:this.paceIcon=this.paceBadIcon}},{key:"calculateOtherProgress",value:function(){this.totalWorkouts=this.workouts.length}},{key:"calculateMapProgress",value:function(){var t=this.goalProgress/this.goalTotal;this.currentState="";for(var e=0;e<this.states.length;e++){if(t<this.states[e].starts/this.routeLength){this.currentState=this.states[e-1].name;break}this.currentState=this.states[this.states.length-1].name}this.routeDashOffset=this.routeDashArray-this.routeDashArray*t}},{key:"loadProgress",value:function(){this.loadGoalProgress(),this.loadDaysProgress(),this.loadPaceProgress(),this.loadOtherProgress(),this.loadMapProgress()}},{key:"loadGoalProgress",value:function(){this.setProgressRing(this.goalProgress/this.goalTotal,this.goalProgressRing),this.goalProgressDisplay.innerHTML=this.goalProgress,this.goalRemainingDisplay.innerHTML=this.goalRemaining}},{key:"loadDaysProgress",value:function(){this.setProgressRing(this.daysProgress/this.daysTotal,this.daysProgressRing),this.daysProgressDisplay.innerHTML=this.daysProgress,this.daysRemainingDisplay.innerHTML=this.daysRemaining}},{key:"loadPaceProgress",value:function(){this.paceIconDisplay.setAttribute("xlink:href","images/icons-5bcb63bf8b.svg#"+this.paceIcon),this.actualPaceDisplay.innerHTML=this.actualPace,this.requiredPaceDisplay.innerHTML=this.requiredPace}},{key:"loadOtherProgress",value:function(){this.totalWorkoutsDisplay.innerHTML=this.totalWorkouts}},{key:"loadMapProgress",value:function(){var t=this;this.mapStateIcon.setAttribute("xlink:href","images/icons-5bcb63bf8b.svg#"+this.currentState),this.mapStateDisplay.innerHTML=this.currentState,setTimeout(function(){t.mapRoute.style.strokeDashoffset=t.routeDashOffset},500)}},{key:"setProgressRing",value:function(t,e){var s=this.radialDashArray-t*this.radialDashArray;e.setAttribute("stroke-dashoffset",s)}}]),t}());e.default=l},function(t,e,s){"use strict";s(8),s(4)},function(t,e,s){/**
	 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
	 * @version v4.0.4
	 * @link https://github.com/ten1seven/what-input
	 * @license MIT
	 */
!function(e,s){t.exports=s()}(this,function(){return function(t){function e(o){if(s[o])return s[o].exports;var i=s[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e){t.exports=function(){var t=document.documentElement,e="initial",s=null,o=["input","select","textarea"],i=[16,17,18,91,93],a={keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"},r=[],n=!1,u={2:"touch",3:"touch",4:"mouse"},l=null,c=function(){a[g()]="mouse",d(),f()},d=function(){window.PointerEvent?(t.addEventListener("pointerdown",h),t.addEventListener("pointermove",y)):window.MSPointerEvent?(t.addEventListener("MSPointerDown",h),t.addEventListener("MSPointerMove",y)):(t.addEventListener("mousedown",h),t.addEventListener("mousemove",y),"ontouchstart"in window&&t.addEventListener("touchstart",p)),t.addEventListener(g(),y),t.addEventListener("keydown",h),t.addEventListener("keyup",h)},h=function(t){if(!n){var r=t.which,u=a[t.type];if("pointer"===u&&(u=v(t)),e!==u||s!==u){var l=!(!document.activeElement||o.indexOf(document.activeElement.nodeName.toLowerCase())!==-1);("touch"===u||"mouse"===u&&i.indexOf(r)===-1||"keyboard"===u&&l)&&(e=s=u,f())}}},f=function(){t.setAttribute("data-whatinput",e),t.setAttribute("data-whatintent",e),r.indexOf(e)===-1&&(r.push(e),t.className+=" whatinput-types-"+e)},y=function(e){if(!n){var o=a[e.type];"pointer"===o&&(o=v(e)),s!==o&&(s=o,t.setAttribute("data-whatintent",s))}},p=function(t){window.clearTimeout(l),h(t),n=!0,l=window.setTimeout(function(){n=!1},200)},v=function(t){return"number"==typeof t.pointerType?u[t.pointerType]:"pen"===t.pointerType?"touch":t.pointerType},g=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"};return"addEventListener"in window&&Array.prototype.indexOf&&c(),{ask:function(t){return"loose"===t?s:e},types:function(){return r}}}()}])})},function(t,e,s){function o(t){return s(i(t))}function i(t){return a[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var a={"./AddWorkout":3,"./AddWorkout.js":3,"./Database":1,"./Database.js":1,"./EditWorkouts":5,"./EditWorkouts.js":5,"./Modal":2,"./Modal.js":2,"./ProgressController":6,"./ProgressController.js":6,"./index":4,"./index.js":4};o.keys=function(){return Object.keys(a)},o.resolve=i,t.exports=o,o.id=9}]);